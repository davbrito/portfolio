---
import AdminPage from "@/components/admin/admin-page";
import AdminLayout from "@/layout/admin-layout.astro";

export const prerender = false;

if (!Astro.locals.session) {
  return Astro.redirect("/auth/sign-in");
}

const tab = Astro.url.searchParams.get("tab");
---

<AdminLayout title="Admin Page">
  <AdminPage client:load defaultTab={tab} />
</AdminLayout>
