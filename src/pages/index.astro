---
import About from "@/components/pages/landing/about";
import ContactForm from "@/components/pages/landing/contact-form.astro";
import { Experience } from "@/components/pages/landing/experience";
import { Hero } from "@/components/pages/landing/hero";
import { LandingHeader } from "@/components/pages/landing/landing-header";
import Projects from "@/components/pages/landing/projects.astro";
import { SectionHeader } from "@/components/pages/landing/section-header";
import Technologies from "@/components/pages/landing/technologies.astro";
import { getPortfolioData } from "@/data/portfolio";
import SiteLayout from "@/layout/site-layout.astro";
import { ArrowDown } from "lucide-react";

const data = await getPortfolioData();
const { socialLinks, experience, technologies, profile } = data;
---

<SiteLayout title={`${profile.name} - ${profile.title}`}>
  <div class="bg-background text-foreground relative min-h-screen font-sans">
    <LandingHeader
      navItems={[
        { href: "#sobre-mi", label: "Sobre mi" },
        { href: "#experiencia", label: "Experiencia" },
        { href: "#tecnologias", label: "Tecnologías" },
        { href: "#proyectos", label: "Proyectos" },
        { href: "#contacto", label: "Contacto" },
      ]}
    />
    <div class="px-5 pb-16 sm:px-8 md:px-10">
      <main class="space-y-48 pt-10 md:pt-16">
        <section class="mx-auto max-w-4xl">
          <Hero socialLinks={socialLinks} profile={profile} />
        </section>

        <div class="flex justify-center" aria-hidden>
          <ArrowDown className="text-muted-foreground h-5 w-5 animate-bounce" />
        </div>

        <section id="sobre-mi" class="mx-auto max-w-4xl">
          <SectionHeader number={1} title="Sobre mí" />

          <About profile={profile} />
        </section>

        <section id="experiencia" class="mx-auto max-w-4xl">
          <SectionHeader number={2} title="Experiencia" />

          <Experience experience={experience} />
        </section>

        <section id="tecnologias" class="mx-auto max-w-4xl">
          <SectionHeader number={3} title="Tecnologías" />

          <Technologies technologies={technologies} />
        </section>

        <section id="proyectos" class="mx-auto max-w-4xl">
          <SectionHeader number={4} title="Proyectos" />

          <Projects />
        </section>

        <section id="contacto" class="mx-auto max-w-prose space-y-8">
          <div class="space-y-3 text-center">
            <p class="text-primary font-mono font-semibold">05. ¿Qué sigue?</p>
            <h3 class="text-foreground text-3xl font-bold sm:text-4xl">
              Ponte en Contacto
            </h3>
            <p class="text-muted-foreground mx-auto max-w-prose text-pretty">
              Estoy abierto a nuevas oportunidades y colaboraciones. Ya sea que
              tengas una pregunta, una propuesta de proyecto o simplemente
              quieras saludar, me encantaría escucharte.
            </p>
          </div>

          <ContactForm />
        </section>
      </main>

      <footer
        class="text-muted-foreground mt-16 flex flex-col items-center gap-2 pb-6 text-center text-xs"
      >
        <div class="text-foreground flex items-center gap-4">
          {
            socialLinks.map((link) => (
              <a
                href={link.href}
                target="_blank"
                rel="noreferrer"
                class="hover:text-primary transition"
              >
                {link.label}
              </a>
            ))
          }
        </div>
        <p>
          Diseñado y desarrollado por{" "}
          <span class="text-primary">{profile.name}</span>. Hecho con Astro,
          React y Tailwind CSS.
        </p>
        <p class="text-[11px]">
          © {new Date().getFullYear()}
          {profile.name}. Todos los derechos reservados.
        </p>
      </footer>
    </div>
  </div>
</SiteLayout>
